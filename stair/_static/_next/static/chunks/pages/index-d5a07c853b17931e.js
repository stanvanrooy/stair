(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(8824)}])},8824:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return xe}});var r=n(5893),i=n(7294),o=n(2672),a=n(8112),l=n(9669),c=n.n(l),s=n(8491),u=n.n(s),d=function(e){return{name:e.name,key:"city"===e.type?"city:".concat(e.code):e.code}},f=function(e,t){if(t=null!==t&&void 0!==t?t:[],0===e.length)return[];var n={limit:5,sort:"name",term:e,location_types:"airport"},r=t.map((function(e){return e.key}));return c()({url:"https://tequila-api.kiwi.com/locations/query?location_types=city",headers:{apikey:"9nfHUAXA3-gooRVP-TCxjPiIs7R_C4gQ"},params:n}).then((function(e){return e.data.locations.map(d).filter((function(e){return!r.includes(e.key)}))}))},h=function(e,t){var n=!e.key.toString().includes("city");return(0,r.jsxs)("div",{className:"ms-TagItem-TextOverflow ".concat(u().suggestionItem),children:[(0,r.jsx)(o.J,{className:u().icon,iconName:n?"AirplaneSolid":"CityNext"}),e.name," ",n?"(".concat(e.key,")"):null]})},x={root:{"& div.ms-TagItem":{background:"unset"},"& div.ms-TagItem:focus-within":{color:"initial"},"& button.ms-TagItem-close:active":{background:"initial",color:"initial"},"& button.ms-TagItem-close:hover":{background:"initial",color:"initial"},"& div.ms-BasePicker-text":{background:"#eee"}},itemsWrapper:{background:"#eee"},input:{background:"#eee"}},g=function(e){var t=(0,i.useMemo)((function(){return e.selected.map(d)}),[e.selected]),n=(0,i.useMemo)((function(){return 0===e.selected.length?e.label:null}),[e.selected]);return(0,r.jsx)("div",{children:(0,r.jsx)(a.U,{selectedItems:t,onResolveSuggestions:f,inputProps:{placeholder:n},onChange:function(t){if(null!==t){var n=t.map((function(e){return{name:e.name,code:e.key,type:e.key.includes("city")?"city":"airport"}}));e.onChange(n)}},onRenderSuggestionsItem:h,styles:x})})},m=n(9198),p=n.n(m);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var v=function(e){var t=(0,i.useState)(null),n=t[0],o=t[1],a=(0,i.useState)(null),l=a[0],c=a[1];return(0,r.jsx)("div",{children:(0,r.jsx)(p(),{selected:n,onChange:function(t){var n=y(t,2),r=n[0],i=n[1];o(r),c(i),e.onChange({start:r,end:i})},startDate:n,endDate:l,selectsRange:!0,placeholderText:e.placeholder})})},j=n(2831),_=[{text:"Economy",key:"M"},{text:"Economy premium",key:"W"},{text:"Business",key:"C"},{text:"First",key:"F"}],k=function(e){return(0,r.jsx)(j.L,{options:_,selectedKey:e.value,onChange:function(t,n){null!==n&&e.onChange(n.key.toString())}})},S=n(1567),C=n(8621),b=n(6655),A=function(){var e=(0,S.ZC)({container:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",height:"100vh","& > div > div.ms-Spinner-circle":{width:158,height:158}}});return(0,r.jsxs)("div",{className:e.container,children:[(0,r.jsx)(C.$,{size:b.E.large}),(0,r.jsx)("h1",{children:"Finding the best flights for you."})]})},w=[{text:"Alliance",key:"alliance"},{text:"SkyTeam",key:"SU,AR,AM,UX,AF,AZ,CI,MU,OK,DL,GA,KQ,KL,KE,ME,SV,RO,VN,MF"},{text:"Star Alliance",key:"JP,A3,AC,CA,AI,NZ,NH,OZ,OS,AV,SN,CM,OU,MS,OV,BR,LO,LH,SK,ZH,SQ,SA,LX,TP,TG,TK,UA"},{text:"Oneworld",key:"AA,BA,CX,AY,IB,JL,LA,MH,QF,QR,RJ,S7,UL"},{text:"Milageplan",key:"AS,EI,AA,BA,CX,DE,LY,EK,FJ,AY,HU,FI,JL,KE,LA,7H,QF,SQ"},{text:"SkyWards",key:"EK,TP,SA,S7,QF,MH,KE,JQ,B6,JL,G3,CM,AS,MK"},{text:"Etihad Guest",key:"EY,NZ,JU,UX,HM,AZ,NH,AA,OZ,PG,SN,OK,GA,HU,9W,KE,MH,WY,PR,AT,SK,UL,VA,G3"}],N=function(e){return(0,r.jsx)(j.L,{options:w,selectedKey:e.value,placeholder:"Alliance",onChange:function(t,n){"alliance"===n.key?e.onChange(null):e.onChange(n.key.toString())}})},R=n(2439),T=n.n(R),E=[{key:"EUR",text:"\u20ac"},{key:"USD",text:"US$"},{key:"JPY",text:"\xa5"},{key:"GBP",text:"\xa3"},{key:"CAD",text:"C$"},{key:"CHF",text:"CHF"}],P={EUR:"eu",USD:"us",JPY:"jp",GBP:"gb",CAD:"ca",CHF:"ch"},F=function(e){return e.hasOwnProperty("length")&&(e=e[0]),(0,r.jsxs)("div",{className:T().option,children:[(0,r.jsx)("img",{src:"https://flagicons.lipis.dev/flags/4x3/".concat(P[e.key],".svg")})," ",(0,r.jsx)("p",{children:e.text})]})},M=function(e){return(0,r.jsx)(j.L,{options:E,onChange:function(t,n){return e.onChange(n.key.toString())},selectedKey:e.value,defaultSelectedKey:"EUR",onRenderOption:F,onRenderTitle:F})},U=n(4828),D=n.n(U),I=function(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60);return"".concat(t,"H ").concat(n,"M")},L=function(e){return new Date(e).toUTCString().split(" ").slice(0,3).join(" ")},O=function(e){var t="";switch(e){case"AY":t="https://logodix.com/logo/992919.png";break;default:return console.log("no image for: ",e),null}return t},Q=function(e){var t="";switch(e){case"AY":t="Finnair";break;case"SQ":t="Singapore Airlines";break;default:return console.log("no name for: ",e),null}return t},H=function(e,t){var n=new Date(e),r=new Date(t).getTime()-n.getTime();return I(r/1e3)},K=function(e){return"".concat(e.flyFrom,"-").concat(e.flyTo,"-").concat(e.airline,"-").concat(e.fare_classes)},J=n(7119),B=n.n(J),G=n(2032),V=n.n(G),Y=function(e){return(0,r.jsxs)("div",{className:e.className,children:[(0,r.jsx)("p",{className:V().duration,children:H(e.from.local_arrival,e.to.local_departure)}),(0,r.jsxs)("p",{className:V().stop,children:["Stop in ",e.from.cityTo," (",e.from.flyTo,")"]})]})},X=function(e){var t=new Date(e);return"".concat(t.getHours(),":").concat(t.getMinutes())},Z=function(e){var t,n,i=(0,r.jsxs)("div",{className:B().outbound,children:[(0,r.jsx)("p",{children:L(e.route.local_departure)}),(0,r.jsx)("p",{children:(0,r.jsx)("b",{children:"Outbound"})})]});return(0,r.jsxs)(r.Fragment,{children:[e.route.flyFrom===e.routes[0]?i:null,(0,r.jsxs)("div",{className:B().flight,children:[(0,r.jsx)("p",{className:B().duration,children:H(e.route.local_departure,e.route.local_arrival)}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:B().time,children:[(0,r.jsx)("div",{children:X(e.route.local_departure)}),(0,r.jsxs)("div",{children:[e.route.cityFrom," (",e.route.flyFrom,")"]})]}),(0,r.jsxs)("div",{className:B().time,children:[(0,r.jsxs)("div",{children:[e.route.airline,null!==(t=e.route.operating_flight_no)&&void 0!==t?t:e.route.flight_no]}),(0,r.jsx)("div",{children:Q(e.route.airline)})]}),(0,r.jsxs)("div",{className:B().time,children:[(0,r.jsx)("div",{children:X(e.route.local_arrival)}),(0,r.jsxs)("div",{children:[e.route.cityTo," (",e.route.flyTo,")"]})]})]}),(0,r.jsxs)("div",{className:B().info,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:(0,r.jsx)("b",{children:"Fareclass "})}),(0,r.jsx)("p",{children:e.route.fare_classes})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:(0,r.jsx)("b",{children:"Recheck "})}),(0,r.jsx)("p",{children:e.route.bags_recheck_required?"Yes":"No"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:(0,r.jsx)("b",{children:"Points "})}),(0,r.jsx)("p",{children:(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",href:(n=e.route,"https://www.wheretocredit.com/calculator#".concat(K(n))),children:"wheretocredit.com"})})]})]})]}),null!==e.nextRoute?(0,r.jsx)(Y,{className:B().flight,from:e.route,to:e.nextRoute}):null]})},W=n(9349),q=n.n(W);function z(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var $={EUR:"\u20ac",USD:"US$",JPY:"\xa5",GBP:"\xa3",CAD:"C$",CHF:"CHF"},ee=function(e){var t=e.map(K);return"https://www.wheretocredit.com/calculator#".concat(t.join("/"))},te=function(e){var t,n=(0,i.useState)(!1),a=n[0],l=n[1],c=function(){return null!==(t=Object.keys(e.flight.conversion).find((function(e){return"EUR"!=e})))&&void 0!==t?t:"EUR"},s=[e.flight.flyFrom],u=[e.flight.cityFrom],d=(z(e.flight.route.slice(1,e.flight.route.length-1)),!0),f=!1,h=void 0;try{for(var x,g=e.flight.route[Symbol.iterator]();!(d=(x=g.next()).done);d=!0){var m=x.value;s.push(m.flyTo),u.push(m.cityTo)}}catch(p){f=!0,h=p}finally{try{d||null==g.return||g.return()}finally{if(f)throw h}}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:q().container,children:[(0,r.jsxs)("div",{className:q().textCombo,children:[(0,r.jsx)("p",{children:I(e.flight.duration.departure)}),(0,r.jsx)("p",{children:L(e.flight.local_departure)})]}),(0,r.jsxs)("div",{className:q().textCombo,children:[(0,r.jsx)("p",{children:s.join(" \u2192 ")}),(0,r.jsx)("p",{children:u.join(" \u2192 ")})]}),(0,r.jsxs)("div",{className:q().textCombo,children:[(0,r.jsx)("p",{children:e.flight.airlines.join(", ")}),(0,r.jsx)("p",{children:e.flight.airlines.map((function(e){return(0,r.jsx)("img",{className:q().logo,src:O(e)},e)}))})]}),(0,r.jsxs)("div",{className:q().price,children:[(0,r.jsx)(o.J,{iconName:a?"chevronUp":"chevronDown",onClick:function(e){return l((function(e){return!e}))}}),(0,r.jsxs)("p",{children:[$[c()]," ",e.flight.conversion[c()]]})]})]})}),a?(0,r.jsx)("div",{children:e.flight.route.map((function(t,n,i){return(0,r.jsx)(Z,{route:t,routes:e.flight.routes[0],nextRoute:n+1<e.flight.route.length?e.flight.route[n+1]:null},t.id)}))}):null,(0,r.jsxs)("div",{className:q().bottomBar,children:[(0,r.jsx)("a",{rel:"noreferrer",target:"_blank",href:e.flight.deep_link,children:"Book this flight with Kiwi."}),(0,r.jsx)("a",{rel:"noreferrer",target:"_blank",href:"http://www.gcmap.com/map?MS=wls&MR=300&MX=720x360&PM=*&P="+e.flight.route.map((function(e){return"".concat(e.flyFrom,"-").concat(e.flyTo)})).join(),children:"Route (GCM)"}),(0,r.jsx)("a",{rel:"noreferrer",target:"_blank",href:ee(e.flight.route),children:"Points (wheretocredit)"})]})]})},ne=function(e){return null===e.flights?null:(0,r.jsx)("div",{className:D().container,children:e.flights.map((function(e){return(0,r.jsx)(te,{flight:e},e.id)}))})},re=n(7150),ie=n(8113),oe=n(7692),ae=n(5426),le=(0,S.jG)({palette:{themePrimary:"#88a09e",themeLighterAlt:"#fafbfb",themeLighter:"#eaf0ef",themeLight:"#d8e3e2",themeTertiary:"#b5c6c5",themeSecondary:"#95acaa",themeDarkAlt:"#7b918f",themeDark:"#687a79",themeDarker:"#4c5a59",neutralLighterAlt:"#faf9f8",neutralLighter:"#f3f2f1",neutralLight:"#edebe9",neutralQuaternaryAlt:"#e1dfdd",neutralQuaternary:"#d0d0d0",neutralTertiaryAlt:"#c8c6c4",neutralTertiary:"#c2c2c2",neutralSecondary:"#858585",neutralPrimaryAlt:"#4b4b4b",neutralPrimary:"#333333",neutralDark:"#272727",black:"#1d1d1d",white:"#eeeeee"}}),ce=(n(1360),n(4705)),se=n.n(ce),ue=n(3656);function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var fe=function(e){return e?"".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear()):null},he=function(){try{return window.location.href}catch(e){return""}},xe=function(e){var t=(0,i.useState)(!1),n=t[0],a=t[1],l={parse:function(e){return e?JSON.parse(e):null},serialize:function(e){return JSON.stringify(e)}},s={parse:function(e){return parseInt(e)},serialize:function(e){return e.toString()}},u=de((0,ue.useQueryState)("departure",l),2),d=u[0],f=u[1],h=de((0,ue.useQueryState)("cabin"),2),x=h[0],m=h[1];(0,i.useEffect)((function(){x||m("W")}),[]);var p=de((0,ue.useQueryState)("return",l),2),y=p[0],j=p[1],_=de((0,ue.useQueryState)("adults",s),2),S=_[0],C=_[1],b=de((0,ue.useQueryState)("stops",s),2),w=b[0],R=b[1],T=de((0,ue.useQueryState)("alliance"),2),E=T[0],P=T[1],F=de((0,ue.useQueryState)("currency"),2),U=F[0],D=F[1];(0,i.useEffect)((function(){U&&0!==U.length||D("EUR")}),[]);var I=(0,i.useState)(null),L=I[0],O=I[1],Q=de((0,ue.useQueryState)("from",l),2),H=Q[0],K=Q[1],J=de((0,ue.useQueryState)("to",l),2),B=J[0],G=J[1];(0,i.useEffect)((function(){return(0,re.l)()}),[]);var V=function(){return navigator.clipboard.writeText(window.location.href)};return(0,r.jsx)(oe.f,{theme:le,children:n?(0,r.jsx)(A,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:se().header,children:[(0,r.jsx)("h1",{children:"Stair"}),(0,r.jsx)("p",{children:"Travel hacking made easy."})]}),(0,r.jsxs)("div",{className:se().container,children:[(0,r.jsxs)("div",{className:se().fieldContainer,children:[(0,r.jsx)(g,{selected:null!==H&&void 0!==H?H:[],onChange:function(e){return K(e)},label:"Departure location"}),(0,r.jsx)(g,{selected:null!==B&&void 0!==B?B:[],onChange:function(e){return G(e)},label:"Arrival location"})]}),(0,r.jsxs)("div",{className:se().fieldContainer,children:[(0,r.jsx)(v,{onChange:f,placeholder:"Departure period"}),(0,r.jsx)(v,{onChange:j,placeholder:"Return period (optional)"})]}),(0,r.jsxs)("div",{className:se().fieldContainer,children:[(0,r.jsx)(k,{value:x,onChange:m}),(0,r.jsx)(ae.n,{type:"number",suffix:S>1?"adults":"adult",value:"".concat(S),defaultValue:"1",onChange:function(e,t){return C(parseInt(t))}}),(0,r.jsx)(ae.n,{type:"number",suffix:w>1?"stops":"stop",defaultValue:"-1",value:"".concat(w),onChange:function(e,t){return R(parseInt(t))}}),(0,r.jsx)(N,{value:E,onChange:P})]}),(0,r.jsx)(ie.K,{onClick:function(e){return function(){var e,t,n={fly_from:(null!==H&&void 0!==H?H:[]).map((function(e){return e.code})).join(","),fly_to:(null!==B&&void 0!==B?B:[]).map((function(e){return e.code})).join(","),date_from:fe(new Date(d.start)),date_to:fe(new Date(null!==(e=d.end)&&void 0!==e?e:d.start)),return_from:fe((null===y||void 0===y?void 0:y.start)?new Date(y.start):null),return_to:fe(new Date(null!==(t=null===y||void 0===y?void 0:y.end)&&void 0!==t?t:null===y||void 0===y?void 0:y.start)),flight_type:null!==y?"round":"oneway",adults:null!==S&&void 0!==S?S:1,curr:U};w&&w>0&&(n.max_stopovers=w),E&&(n.select_airlines=E),a(!0),c()({url:"https://tequila-api.kiwi.com/v2/search",params:n,headers:{apikey:"9nfHUAXA3-gooRVP-TCxjPiIs7R_C4gQ"}}).then((function(e){return O(e.data.data)})).then((function(e){return a(!1)}))}()},children:"Find flights!"}),(0,r.jsx)(ae.n,{readOnly:!0,value:he(),onRenderPrefix:function(){return(0,r.jsx)(o.J,{iconName:"MiniLink"})},onRenderSuffix:function(){return(0,r.jsx)(ie.K,{text:"Copy",onClick:V})},styles:{suffix:{padding:0}}})]}),(0,r.jsx)("br",{})," ",(0,r.jsx)("br",{}),(0,r.jsx)("div",{className:se().currencySelectContainer,children:(0,r.jsx)(M,{value:U,onChange:D})}),(0,r.jsx)(ne,{flights:L})]})})}},8491:function(e){e.exports={suggestionItem:"airportPicker_suggestionItem__2OS24",icon:"airportPicker_icon__Nnnz-"}},2439:function(e){e.exports={option:"currencySelect_option__33xRq"}},4828:function(e){e.exports={container:"flightExplorer_container__3YhkZ"}},7119:function(e){e.exports={outbound:"flightRoute_outbound__MZzpy",flight:"flightRoute_flight__1JcE-",time:"flightRoute_time__1S2hE",logo:"flightRoute_logo__2tOG_",info:"flightRoute_info__2Ak4d"}},2032:function(e){e.exports={duration:"flightStop_duration__2fEIA",stop:"flightStop_stop__33PTR"}},9349:function(e){e.exports={container:"flightView_container__1aqTG",textCombo:"flightView_textCombo__2LNWW",logo:"flightView_logo__2YLFi",price:"flightView_price__2pttG",bottomBar:"flightView_bottomBar__3--Em"}},4705:function(e){e.exports={fieldContainer:"index_fieldContainer__1QacB",container:"index_container__3XRMM",currencySelectContainer:"index_currencySelectContainer__3HEnJ",header:"index_header__1p3mc"}}},function(e){e.O(0,[774,534,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);