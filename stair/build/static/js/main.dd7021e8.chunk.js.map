{"version":3,"sources":["components/currencySelect.module.css","components/flightExplorer.module.css","components/airportPicker.tsx","components/dateRangePicker.tsx","components/cabinSelect.tsx","components/fullScreenSpinner.tsx","components/allianceSelect.tsx","components/currencySelect.tsx","helpers.ts","components/flightStop.tsx","components/flightRoute.tsx","components/flightView.tsx","components/flightExplorer.tsx","styles/theme.ts","App.tsx","index.js","components/flightRoute.module.css","components/flightView.module.css","App.module.css","components/airportPicker.module.css","components/flightStop.module.css"],"names":["module","exports","locationToTag","l","name","key","type","code","onResolveSuggestions","filter","selected","length","params","limit","sort","term","location_types","selectedKeys","map","s","axios","url","headers","apikey","then","r","data","locations","includes","onRenderSuggestionsItem","props","_","isAirport","toString","className","styles","suggestionItem","Icon","icon","iconName","tagPickerStyles","root","background","color","itemsWrapper","input","AirportPicker","selectedItems","useMemo","placeholder","label","TagPicker","inputProps","onChange","items","airports","i","DateRangePicker","dateFormat","value","start","dates","end","startDate","endDate","selectsRange","placeholderText","options","text","CabinSelect","Dropdown","selectedKey","option","FullScreenSpinner","mergeStyleSets","container","display","alignItems","flexDirection","justifyContent","height","width","Spinner","size","SpinnerSize","large","AllianceSelect","opt","symbolToCountryMap","renderOption","p","hasOwnProperty","src","CurrencySelect","defaultSelectedKey","onRenderOption","onRenderTitle","secondsToString","h","Math","floor","m","dateTimeToDate","Date","toUTCString","split","slice","join","useQueryState","def","useState","setValue","useEffect","v","URLSearchParams","window","location","search","get","newValue","set","history","replaceState","pathname","getImageForAirline","airline","console","log","getReadableNameForAirport","getDuration","e","diff","getTime","buildWtcPair","route","flyFrom","flyTo","fare_classes","FlightStop","duration","from","local_arrival","to","local_departure","stop","cityTo","dt","date","getHours","getMinutes","FlightRoute","outbound","routes","flight","time","cityFrom","operating_flight_no","flight_no","info","bags_recheck_required","target","rel","href","nextRoute","currencyToSymbolMap","getWtcUrl","pairs","FlightView","isExpanded","setIsExpanded","getCurrency","Object","keys","conversion","find","k","fly","cit","push","textCombo","departure","airlines","a","logo","price","onClick","id","bottomBar","deep_link","FlightExplorer","flights","f","theme","createTheme","palette","themePrimary","themeLighterAlt","themeLighter","themeLight","themeTertiary","themeSecondary","themeDarkAlt","themeDark","themeDarker","neutralLighterAlt","neutralLighter","neutralLight","neutralQuaternaryAlt","neutralQuaternary","neutralTertiaryAlt","neutralTertiary","neutralSecondary","neutralPrimaryAlt","neutralPrimary","neutralDark","black","white","formatDate","d","getDate","getMonth","getFullYear","getHref","App","isLoading","setIsLoading","serializeJson","JSON","stringify","jsonOptions","parse","serialize","jsonOptionsDate","obj","numberOptions","x","parseInt","departureRange","setDepartureRange","selectedCabin","setSelectedCabin","returnRange","setReturnRange","adults","setAdults","stops","setStops","selectedAlliance","setSelectedAlliance","selectedCurrency","setSelectedCurrency","setFlights","setFrom","setTo","initializeIcons","copyLink","navigator","clipboard","writeText","ThemeProvider","header","fieldContainer","TextField","suffix","defaultValue","nv","PrimaryButton","fly_from","fly_to","date_from","date_to","return_from","return_to","flight_type","curr","findFlights","readOnly","onRenderPrefix","onRenderSuffix","padding","currencySelectContainer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dd7021e8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"option\":\"currencySelect_option__uy2I4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"flightExplorer_container__37dL2\"};","import { TagPicker, ITag, Icon, IBasePickerStyles } from \"@fluentui/react\";\nimport { useMemo } from \"react\";\nimport axios from \"axios\";\nimport { Location } from \"../models/location\";\nimport styles from \"./airportPicker.module.css\";\n\n\nexport interface IAirportPickerProps {\n  selected: Location[];\n  onChange: (a: Location[]) => void;\n  label: string;\n}\n\nconst locationToTag = (l: Location): ITag => {\n  return {\n    name: l.name,\n    key: l.type === 'city' ? `city:${l.code}` : l.code,\n  };\n}\n\nconst onResolveSuggestions = (filter: string, selected?: ITag[]): PromiseLike<ITag[]> | ITag[] => {\n  selected = selected ?? [];\n  if (filter.length === 0) {\n    return [];\n  }\n\n  const url = `https://tequila-api.kiwi.com/locations/query?location_types=city`\n  const params = {\n    limit: 5,\n    sort: 'name',\n    term: filter,\n    location_types: 'airport'\n  }\n  const headers = {\n    apikey: '9nfHUAXA3-gooRVP-TCxjPiIs7R_C4gQ',\n  }\n\n  const selectedKeys = selected.map(s => s.key);\n\n  return axios({\n    url: url,\n    headers: headers,\n    params: params,\n  }).then(\n      r => r.data.locations\n      .map(locationToTag)\n      .filter(l => !selectedKeys.includes(l.key))\n    );\n}\n\nconst onRenderSuggestionsItem = (props: ITag, _: any) => {\n  const isAirport = !props.key.toString().includes('city');\n\n  return <div className={`ms-TagItem-TextOverflow ${styles.suggestionItem}`}>\n    <Icon className={styles.icon} iconName={isAirport ? 'AirplaneSolid' : 'CityNext'} /> \n    {props.name} {isAirport ? `(${props.key})` : null}\n  </div>\n}\n\nconst tagPickerStyles = {\n  root: {\n    '& div.ms-TagItem': {\n      background: 'unset',\n    },\n    '& div.ms-TagItem:focus-within': {\n      color: 'initial'\n    },\n    '& button.ms-TagItem-close:active': {\n      background: 'initial',\n      color: 'initial'\n    },\n    '& button.ms-TagItem-close:hover': {\n      background: 'initial',\n      color: 'initial'\n    }, \n    '& div.ms-BasePicker-text': {\n      background: '#eee',\n    }\n  },\n  itemsWrapper: {\n    background: '#eee'\n  },\n  input: {\n    background: '#eee'\n  }\n}\n\nexport const AirportPicker = (props: IAirportPickerProps) => {\n  const selectedItems = useMemo(() => props.selected.map(locationToTag), [props.selected]);\n  const placeholder = useMemo(() => props.selected.length === 0 ? props.label : null, [props.selected]);\n\n  const onChange = (items?: any[]) => {\n    if (items === null) {\n      return;\n    }\n    const airports = items.map(i => ({\n      name: i.name, \n      code: i.key, \n      type: i.key.includes('city') ? 'city' : 'airport'}\n    ));\n    props.onChange(airports);\n  };\n\n  return <div>\n    <TagPicker \n      selectedItems={selectedItems}\n      onResolveSuggestions={onResolveSuggestions}\n      inputProps={{\n        placeholder: placeholder\n      }}\n      onChange={onChange}\n      onRenderSuggestionsItem={onRenderSuggestionsItem}\n      styles={tagPickerStyles}\n    />\n  </div>\n}\n","import { useState } from \"react\";\nimport { DateRange } from \"../../models/dateRange\";\n\nimport DatePicker from \"react-datepicker\";\n\nexport interface IDateRangePickerProps {\n  onChange: (d: DateRange) => void;\n  value?: DateRange;\n  placeholder: string;\n}\n\nexport const DateRangePicker = (props: IDateRangePickerProps) => {\n  const onChange = (dates) => {\n    const [start, end] = dates;\n    props.onChange({start: start, end: end});\n  }\n\n  return <div>\n    <DatePicker\n      dateFormat={\"yyyy-MM-dd\"}\n      selected={props.value?.start}\n      onChange={onChange}\n      startDate={props.value?.start}\n      endDate={props.value?.end}\n      selectsRange\n      placeholderText={props.placeholder}\n    />\n  </div>\n}\n","import { Dropdown, IDropdownOption } from \"@fluentui/react\"\n\nexport interface ICabinSelectProps {\n  value: string;\n  onChange: (v: string) => void;\n}\n\nconst options: IDropdownOption[] = [\n  { text: 'Economy', key: 'M' },\n  { text: 'Economy premium', key: 'W' },\n  { text: 'Business', key: 'C' },\n  { text: 'First', key: 'F' },\n]\n\nexport const CabinSelect = (props: ICabinSelectProps) => {\n  const onChange = (_: any, option?: IDropdownOption) => {\n    if (option === null) {\n      return;\n    }\n    props.onChange(option.key.toString());\n  }\n\n  return <Dropdown\n    options={options}\n    selectedKey={props.value}\n    onChange={onChange}\n  />\n}\n","import { mergeStyleSets, Spinner, SpinnerSize } from '@fluentui/react'\nimport React from 'react'\n\nexport const FullScreenSpinner = () => {\n  const styles = mergeStyleSets({\n    container: {\n      display: 'flex',\n      alignItems: 'center',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      height: '100vh',\n      \"& > div > div.ms-Spinner-circle\": {\n        width: 158,\n        height: 158,\n      }\n    },\n  })\n\n  return <div className={styles.container}>\n    <Spinner size={SpinnerSize.large} />\n    <h1>Finding the best flights for you.</h1>\n  </div>\n}\n","import { Dropdown, IDropdownOption } from \"@fluentui/react\"\n\nexport interface IAllianceSelectProps {\n  value?: string;\n  onChange: (v?: string) => void;\n}\n\nconst options: IDropdownOption[] = [\n  { text: 'Alliance', key: 'alliance' },\n  { text: 'SkyTeam', key: 'SU,AR,AM,UX,AF,AZ,CI,MU,OK,DL,GA,KQ,KL,KE,ME,SV,RO,VN,MF' },\n  { text: 'Star Alliance', key: 'JP,A3,AC,CA,AI,NZ,NH,OZ,OS,AV,SN,CM,OU,MS,OV,BR,LO,LH,SK,ZH,SQ,SA,LX,TP,TG,TK,UA' },\n  { text: 'Oneworld', key: 'AA,BA,CX,AY,IB,JL,LA,MH,QF,QR,RJ,S7,UL' },\n  { text: 'Milageplan', key: 'AS,EI,AA,BA,CX,DE,LY,EK,FJ,AY,HU,FI,JL,KE,LA,7H,QF,SQ' },\n  { text: 'SkyWards', key: 'EK,TP,SA,S7,QF,MH,KE,JQ,B6,JL,G3,CM,AS,MK' },\n  { text: 'Etihad Guest', key: 'EY,NZ,JU,UX,HM,AZ,NH,AA,OZ,PG,SN,OK,GA,HU,9W,KE,MH,WY,PR,AT,SK,UL,VA,G3' },\n]\n\nexport const AllianceSelect = (props: IAllianceSelectProps) => {\n  const onChange = (_: any, opt: IDropdownOption) => {\n    if (opt.key === 'alliance') {\n      props.onChange(null);\n    } else {\n      props.onChange(opt.key.toString())\n    }\n  }\n\n  return <Dropdown\n    options={options}\n    selectedKey={props.value}\n    placeholder={\"Alliance\"}\n    onChange={onChange}\n  />\n}\n","import { Dropdown, IDropdownOption } from \"@fluentui/react\"\nimport styles from \"./currencySelect.module.css\"\n\nexport interface ICurrencySelectProps {\n  value: string;\n  onChange: (v: string) => void;\n}\n\nconst options: IDropdownOption[] = [\n  { key: 'EUR', text: '€', },\n  { key: 'USD', text: 'US$' },\n  { key: 'JPY', text: '¥' },\n  { key: 'GBP', text: '£' },\n  { key: 'CAD', text: 'C$' },\n  { key: 'CHF', text: 'CHF' },\n]\n\nconst symbolToCountryMap = {\n  'EUR': 'eu',\n  'USD': 'us',\n  'JPY': 'jp',\n  'GBP': 'gb',\n  'CAD': 'ca',\n  'CHF': 'ch',\n}\n\nconst renderOption = (p) => {\n  if (p.hasOwnProperty('length')) {\n    p = p[0];\n  }\n  return <div className={styles.option}>\n    <img src={`https://flagicons.lipis.dev/flags/4x3/${symbolToCountryMap[p.key]}.svg`} /> <p>{p.text}</p>\n  </div>\n}\n\nexport const CurrencySelect = (props: ICurrencySelectProps) => {\n  return <Dropdown\n    options={options}\n    onChange={(_: any, option: IDropdownOption) =>  props.onChange(option.key.toString())}\n    selectedKey={props.value}\n    defaultSelectedKey={'EUR'}\n    onRenderOption={renderOption}\n    onRenderTitle={renderOption}\n  />\n}","import { Dispatch, SetStateAction, useEffect, useState } from 'react';\nimport { Route } from '../models/route'\n\nexport const secondsToString = (s: number): string => {\n  const h = Math.floor(s / 3600);\n  const m = Math.floor(s % 3600 / 60);\n  return `${h}H ${m}M`; \n}\n\nexport const dateTimeToDate = (s: string): string => {\n  const d = new Date(s);\n  return d.toUTCString().split(' ').slice(0, 3).join(' ');\n}\n\n\nexport const useQueryState = <T>(name: string, def?: any, options?: object): [T, Dispatch<SetStateAction<T>>]=> {\n  const [value, setValue] = useState<T>(def ?? null);\n  options = options ?? {};\n\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search);\n    let v = params.get(name);\n    if (options.hasOwnProperty('parse')) {\n      v = options['parse'](v);\n    }\n    setValue(v as any);\n  }, [])\n\n  useEffect(() => {\n    if (value === null) {\n      return;\n    }\n    const params = new URLSearchParams(window.location.search);\n    let newValue = value;\n    if (options.hasOwnProperty('serialize')) {\n      newValue = options['serialize'](newValue);\n    }\n    params.set(name, newValue as any);\n    window.history.replaceState({}, '', `${window.location.pathname}?${params.toString()}`);\n  }, [value]);\n\n  return [value, setValue];\n}\n\n\nexport const getImageForAirline = (airline: string) => {\n  let url = \"\";\n  switch(airline) {\n    case \"AY\":\n      url = \"https://logodix.com/logo/992919.png\";\n      break;\n    default:\n      console.log('no image for: ', airline);\n      return null;\n  }\n  return url;\n}\n\nexport const getReadableNameForAirport = (airline: string) => {\n  let name = \"\";\n  switch(airline) {\n    case \"AY\":\n      name = \"Finnair\";\n      break;\n    case \"SQ\":\n      name = \"Singapore Airlines\";\n      break;\n    default:\n      console.log('no name for: ', airline);\n      return null;\n  }\n  return name;\n}\n\nexport const getDuration = (s: string, e: string): string => {\n  const start = new Date(s);\n  const end = new Date(e);\n  const diff = end.getTime() - start.getTime();\n  return secondsToString(diff / 1000);\n}\n\nexport const buildWtcPair = (route: Route) => `${route.flyFrom}-${route.flyTo}-${route.airline}-${route.fare_classes}`\n","import { getDuration } from \"../helpers\";\nimport { Route } from \"../models/route\";\nimport styles from \"./flightStop.module.css\";\n\nexport interface IFlightStopProps {\n  from: Route;\n  to: Route;\n  className: string;\n}\n\nexport const FlightStop = (props: IFlightStopProps) => {\n  return <div className={props.className}>\n    <p className={styles.duration}>{getDuration(props.from.local_arrival, props.to.local_departure)}</p>\n    <p className={styles.stop}>Stop in {props.from.cityTo} ({props.from.flyTo})</p>\n  </div>\n}\n","import { dateTimeToDate, secondsToString, getReadableNameForAirport, getDuration, buildWtcPair } from \"../helpers\";\nimport { Route } from \"../models/route\";\nimport styles from \"./flightRoute.module.css\";\nimport { FlightStop } from \"./flightStop\";\n\nexport interface IFlightRouteProps {\n  routes: string[];\n  route: Route;\n  nextRoute?: Route;\n}\n\nconst getTime = (dt: string): string => {\n  const date = new Date(dt);\n  return `${date.getHours()}:${date.getMinutes()}`\n}\n\nconst getCreditUrl = (route: Route) => `https://www.wheretocredit.com/calculator#${buildWtcPair(route)}`;\n\nexport const FlightRoute = (props: IFlightRouteProps) => {\n  const outbound = <div className={styles.outbound}>\n    <p>{dateTimeToDate(props.route.local_departure)}</p>\n    <p><b>Outbound</b></p>\n  </div>\n  return <>\n    {props.route.flyFrom === props.routes[0] ? outbound : null}\n    <div className={styles.flight}>\n      <p className={styles.duration}>{getDuration(props.route.local_departure, props.route.local_arrival)}</p>\n      <div>\n        <div className={styles.time}>\n          <div>{getTime(props.route.local_departure)}</div> \n          <div>{props.route.cityFrom} ({props.route.flyFrom})</div>\n        </div>\n        <div className={styles.time}>\n          <div>{props.route.airline}{props.route.operating_flight_no ?? props.route.flight_no}</div>\n          <div>{getReadableNameForAirport(props.route.airline)}</div>\n        </div>\n        <div className={styles.time}>\n          <div>{getTime(props.route.local_arrival)}</div> \n          <div>{props.route.cityTo} ({props.route.flyTo})</div>\n        </div>\n      </div>\n      <div className={styles.info}>\n        <div>\n          <p><b>Fareclass </b></p>\n          <p>{props.route.fare_classes}</p>\n        </div>\n        <div>\n          <p><b>Recheck </b></p>\n          <p>{props.route.bags_recheck_required ? 'Yes' : 'No'}</p>\n        </div>\n        <div>\n          <p><b>Points </b></p>\n          <p><a target=\"_blank\" rel=\"noreferrer\" href={getCreditUrl(props.route)}>wheretocredit.com</a></p>\n        </div>\n      </div>\n    </div>\n    {props.nextRoute !== null ? <FlightStop className={styles.flight} from={props.route} to={props.nextRoute} /> : null}\n  </>\n}\n","import { Icon } from \"@fluentui/react\";\nimport { useState } from \"react\";\nimport { buildWtcPair, dateTimeToDate, getImageForAirline, secondsToString } from \"../helpers\";\nimport { Flight } from \"../models/flight\";\nimport { Route } from \"../models/route\";\nimport { FlightRoute } from \"./flightRoute\";\nimport styles from \"./flightView.module.css\";\n\nexport interface IFlightViewProps {\n  flight: Flight;\n}\n\nconst currencyToSymbolMap = {\n  'EUR': '€', \n  'USD': 'US$',\n  'JPY': '¥',\n  'GBP': '£',\n  'CAD': 'C$',\n  'CHF': 'CHF'\n};\n\nconst getWtcUrl = (routes: Route[]) => {\n  const pairs = routes.map(buildWtcPair);\n  return `https://www.wheretocredit.com/calculator#${pairs.join('/')}`;\n}\n\nexport const FlightView = (props: IFlightViewProps) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const getCurrency = () => Object.keys(props.flight.conversion).find(k => k != 'EUR') ?? 'EUR';\n  const getPrice = () => props.flight.conversion[getCurrency()];\n\n  const getGCMUrl = () => {\n    const p = props.flight.route.map(r => `${r.flyFrom}-${r.flyTo}`).join();\n    return \"http://www.gcmap.com/map?MS=wls&MR=300&MX=720x360&PM=*&P=\" + p;\n  }\n\n  const fly = [props.flight.flyFrom];\n  const cit = [props.flight.cityFrom];\n\n  const r = [...props.flight.route.slice(1, props.flight.route.length - 1)];\n  for (const route of props.flight.route) {\n    fly.push(route.flyTo);\n    cit.push(route.cityTo);\n  }\n\n  return <>\n    <div>\n      <div className={styles.container}>\n        <div className={styles.textCombo}>\n          <p>{secondsToString(props.flight.duration.departure)}</p>\n          <p>{dateTimeToDate(props.flight.local_departure)}</p>\n        </div>\n        <div className={styles.textCombo}>\n          <p>{fly.join(' → ')}</p>\n          <p>{cit.join(' → ')}</p>\n        </div>\n        <div className={styles.textCombo}>\n          <p>{props.flight.airlines.join(', ')}</p>\n          <p>{props.flight.airlines.map(a => <img key={a} className={styles.logo} src={getImageForAirline(a)} />)}</p>\n        </div>\n        <div className={styles.price}>\n          <Icon iconName={!isExpanded ? 'chevronDown' : 'chevronUp'} onClick={_ => setIsExpanded(v => !v)} />\n          <p>{currencyToSymbolMap[getCurrency()]} {getPrice()}</p>\n        </div>\n      </div>\n    </div>\n    {isExpanded ? <div>\n      {props.flight.route.map((r, i, _) => <FlightRoute \n        key={r.id}\n        route={r} \n        routes={props.flight.routes[0]}\n        nextRoute={i + 1 < props.flight.route.length ? props.flight.route[i + 1] : null} \n      />)}\n    </div> : null}\n    <div className={styles.bottomBar}>\n      <a rel=\"noreferrer\" target=\"_blank\" href={props.flight.deep_link}>Book this flight with Kiwi.</a> \n      <a rel=\"noreferrer\" target=\"_blank\" href={getGCMUrl()}>Route (GCM)</a>\n      <a rel=\"noreferrer\" target=\"_blank\" href={getWtcUrl(props.flight.route)}>Points (wheretocredit)</a>\n    </div>\n  </>\n}\n","import { Flight } from \"../models/flight\"\n\nimport styles from \"./flightExplorer.module.css\"\nimport { FlightView } from \"./flightView\"\n\nexport interface IFlightExplorerProps {\n  flights: Flight[]\n}\n\nexport const FlightExplorer = (props: IFlightExplorerProps) => {\n  if (props.flights === null) {\n    return null;\n  }\n\n  return <div className={styles.container}>\n    {props.flights.map(f => <FlightView flight={f} key={f.id} />)}\n  </div>\n}\n","import { createTheme } from \"@fluentui/style-utilities\";\n\nexport const theme = createTheme({\n  palette: {\n    themePrimary: '#88a09e',\n    themeLighterAlt: '#fafbfb',\n    themeLighter: '#eaf0ef',\n    themeLight: '#d8e3e2',\n    themeTertiary: '#b5c6c5',\n    themeSecondary: '#95acaa',\n    themeDarkAlt: '#7b918f',\n    themeDark: '#687a79',\n    themeDarker: '#4c5a59',\n    neutralLighterAlt: '#faf9f8',\n    neutralLighter: '#f3f2f1',\n    neutralLight: '#edebe9',\n    neutralQuaternaryAlt: '#e1dfdd',\n    neutralQuaternary: '#d0d0d0',\n    neutralTertiaryAlt: '#c8c6c4',\n    neutralTertiary: '#c2c2c2',\n    neutralSecondary: '#858585',\n    neutralPrimaryAlt: '#4b4b4b',\n    neutralPrimary: '#333333',\n    neutralDark: '#272727',\n    black: '#1d1d1d',\n    white: '#eeeeee',\n  }});\n","import { useEffect, useState } from \"react\";\nimport { AirportPicker } from \"./components/airportPicker\";\nimport { DateRangePicker } from \"./components/dateRangePicker\";\nimport { CabinSelect } from \"./components/cabinSelect\";\nimport { FullScreenSpinner } from \"./components/fullScreenSpinner\";\nimport { AllianceSelect } from \"./components/allianceSelect\";\nimport { CurrencySelect } from \"./components/currencySelect\";\nimport { FlightExplorer } from \"./components/flightExplorer\";\nimport { Flight } from \"../models/flight\";\nimport { Location } from \"../models/location\";\nimport { DateRange } from \"../models/dateRange\";\nimport { initializeIcons } from \"@fluentui/font-icons-mdl2\";\nimport { Icon, PrimaryButton, TextField, ThemeProvider } from \"@fluentui/react\";\nimport { theme } from \"./styles/theme\";\nimport { useQueryState } from \"./helpers\";\n\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport \"./styles/globals.css\";\nimport styles from \"./App.module.css\";\nimport axios from \"axios\";\n\nexport interface IIndexProps {\n  from?: Location[];\n  to?: Location[];\n  departureRange?: DateRange;\n  returnRange?: DateRange;\n}\n\nconst formatDate = (d?: Date) => d ? `${d.getDate()}/${d.getMonth() + 1}/${d.getFullYear()}` : null;\n\nconst getHref = () => {\n  try {\n    return window.location.href;\n  } catch {\n    return \"\";\n  }\n}\n\nconst App = (props: IIndexProps) => { // const [departureRange, setDepartureRange] = useQueryState<DateRange>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  \n  const parseJson = (s: string) => {\n    if (!s)\n      return null;\n    return JSON.parse(s);\n  }\n  const serializeJson = (s: object) => JSON.stringify(s);\n  const jsonOptions = { parse: parseJson, serialize: serializeJson };\n\n  const parseDateRange = (dt: string) => {\n    if (!dt)\n      return null;\n    const obj = JSON.parse(dt) as DateRange;\n    obj.end = new Date(obj.end);\n    obj.start = new Date(obj.start);\n    return obj;\n  }\n  const jsonOptionsDate = { parse: parseDateRange, serialize: serializeJson };\n\n  const numberOptions = { parse: x => parseInt(x), serialize: x => x.toString() };\n\n  const [departureRange, setDepartureRange] = useQueryState<DateRange>('departure', null, jsonOptionsDate);\n  const [selectedCabin, setSelectedCabin] = useQueryState<string>('cabin', 'W');\n\n  const [returnRange, setReturnRange] = useQueryState<DateRange>('return', null, jsonOptionsDate);\n  const [adults, setAdults] = useQueryState<number | null>('adults', 1, numberOptions);\n\n  const [stops, setStops] = useQueryState<number | null>('stops', -1, numberOptions);\n\n  const [selectedAlliance, setSelectedAlliance] = useQueryState<string>('alliance');\n  const [selectedCurrency, setSelectedCurrency] = useQueryState<string>('currency', 'eur');\n  const [flights, setFlights] = useState<Flight[] | null>(null);\n\n  const [from, setFrom] = useQueryState<Location[]>('from', null, jsonOptions);\n  const [to, setTo] = useQueryState<Location[]>('to', null, jsonOptions);\n\n  useEffect(() => initializeIcons(), []);\n\n  const onChangeFrom = (l: Location[]) => setFrom(l);\n  const onChangeTo = (l: Location[]) => setTo(l);\n\n  const findFlights = () => {\n    const params = {\n      fly_from: (from ?? []).map(l => l.code).join(','),\n      fly_to: (to ?? []).map(l => l.code).join(','),\n      date_from: formatDate(departureRange.start),\n      date_to: formatDate(departureRange.end ?? departureRange.start),\n      return_from: formatDate(returnRange?.start),\n      return_to: formatDate(returnRange?.end ?? returnRange?.start),\n      flight_type: returnRange !== null ? 'round' : 'oneway',\n      adults: adults ?? 1,\n      curr: selectedCurrency,\n    }\n\n    if (stops && stops > 0) {\n      params['max_stopovers'] = stops;\n    }\n\n    if (selectedAlliance) {\n      params['select_airlines'] = selectedAlliance;\n    }\n\n    const headers = {\n      apikey: '9nfHUAXA3-gooRVP-TCxjPiIs7R_C4gQ',\n    }\n\n    setIsLoading(true)\n    axios({\n      url: \"https://tequila-api.kiwi.com/v2/search\",\n      params: params,\n      headers: headers\n    })\n      .then(r => setFlights(r.data.data))\n      .then(_ => setIsLoading(false));\n  }\n\n  const copyLink = () => navigator.clipboard.writeText(window.location.href);\n\n  const onRenderLinkPrefix = () => <Icon iconName={\"MiniLink\"} />\n  const onRenderLinkSuffix = () => <PrimaryButton text={\"Copy\"} onClick={copyLink} />\n\n  return <ThemeProvider theme={theme}>\n    {isLoading ? <FullScreenSpinner /> : <><div className={styles.header}>\n      <h1>Stair</h1>\n      <p>Travel hacking made easy.</p>\n    </div>\n    <div className={styles.container}>\n      <div className={styles.fieldContainer}>\n        <AirportPicker selected={from ?? []} onChange={onChangeFrom} label={\"Departure location\"} />\n        <AirportPicker selected={to ?? []} onChange={onChangeTo} label={\"Arrival location\"} />\n      </div>\n      <div className={styles.fieldContainer}>\n        <DateRangePicker value={departureRange} onChange={setDepartureRange} placeholder={\"Departure period\"} />\n        <DateRangePicker value={returnRange} onChange={setReturnRange} placeholder={\"Return period (optional)\"}/>\n      </div>\n      <div className={styles.fieldContainer}>\n        <CabinSelect value={selectedCabin} onChange={setSelectedCabin} />\n        <TextField \n          type={\"number\"} \n          suffix={adults > 1 ? 'adults' : 'adult'} \n          value={`${adults}`} \n          defaultValue={'1'}\n          onChange={(_: any, nv: string) => setAdults(parseInt(nv))} \n        />\n        <TextField \n          type={\"number\"} \n          suffix={stops > 1 ? 'stops' : 'stop'} \n          defaultValue={'-1'}\n          value={`${stops}`} \n          onChange={(_: any, nv: string) => setStops(parseInt(nv))} \n        />\n        <AllianceSelect value={selectedAlliance} onChange={setSelectedAlliance} />\n      </div>\n      <PrimaryButton onClick={_ => findFlights()}>Find flights!</PrimaryButton>\n      <TextField readOnly\n        value={getHref()} \n        onRenderPrefix={onRenderLinkPrefix} \n        onRenderSuffix={onRenderLinkSuffix}\n        styles={{suffix: {padding: 0}}}\n      />\n    </div>\n    <br /> <br />\n    <div className={styles.currencySelectContainer}>\n      <CurrencySelect value={selectedCurrency} onChange={setSelectedCurrency} />\n    </div>\n    <FlightExplorer flights={flights} /></>}\n  </ThemeProvider>\n}\n\nexport default App;\n","import { initializeIcons } from '@fluentui/react';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\ninitializeIcons();\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"outbound\":\"flightRoute_outbound__3sdsD\",\"flight\":\"flightRoute_flight__8lFqI\",\"time\":\"flightRoute_time__3o5Q-\",\"logo\":\"flightRoute_logo__1tlO9\",\"info\":\"flightRoute_info__18tL9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"flightView_container__1gTK7\",\"textCombo\":\"flightView_textCombo__2qgSu\",\"logo\":\"flightView_logo__22tq4\",\"price\":\"flightView_price__3C22r\",\"bottomBar\":\"flightView_bottomBar__Hza7G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fieldContainer\":\"App_fieldContainer__zjkO8\",\"container\":\"App_container__1MQN3\",\"currencySelectContainer\":\"App_currencySelectContainer__10vhf\",\"header\":\"App_header__3ZZ1n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"suggestionItem\":\"airportPicker_suggestionItem__V8yLh\",\"icon\":\"airportPicker_icon__1MJ63\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"duration\":\"flightStop_duration__1mDOW\",\"stop\":\"flightStop_stop__VFoEv\"};"],"sourceRoot":""}